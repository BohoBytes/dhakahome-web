{{define "partials/search-results-list.html"}}
<!-- Search Results List Section (aligned to updated design) -->
<section
  class="bg-white mt-16"
  data-shortlist-section
  data-shortlist-mode="{{if .ShortlistMode}}shortlisted{{else}}search{{end}}"
>
  <div class="max-w-[85rem] mx-auto px-4">
    <!-- Results Header -->
    <div class="mt-[72px] mb-[24px] space-y-3">
      <div class="flex flex-col md:flex-row md:items-center md:justify-between gap-3">
        <div class="text-center md:text-left">
          <div class="flex items-center justify-center md:justify-start gap-3">
            {{if and .ShortlistEnabled .ShortlistMode}}
            <button
              type="button"
              data-shortlist-toggle
              aria-label="Back to search results"
              class="inline-flex items-center justify-center w-10 h-10 rounded-full border border-[#dcdcdc] bg-white text-[#3b3b3b] hover:border-[#f44335] hover:text-[#f44335] transition-colors"
            >
              <svg class="w-5 h-5" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true">
                <path d="M15 18l-6-6 6-6" stroke-linecap="round" stroke-linejoin="round" />
              </svg>
            </button>
            {{end}}
            <h1 class="text-[32px] md:text-[40px] font-medium leading-[48px] md:leading-[60px] text-[#3b3b3b]">
              {{if .ShortlistMode}}Shortlisted <span class="text-primary">Properties</span>{{else}}Search <span class="text-primary">Results</span>{{end}}
            </h1>
          </div>
          <p class="text-[14px] md:text-[16px] text-[#797979] mt-2">
            {{if .ShortlistMode}}
              {{if gt .List.Total 0}}You have {{.List.Total}} saved {{if eq .List.Total 1}}property{{else}}properties{{end}}{{else}}You havenâ€™t shortlisted any properties yet{{end}}
            {{else}}
              Found {{.List.Total}} properties matching your criteria
            {{end}}
          </p>
        </div>
        {{if .ShortlistEnabled}}
        <button
          type="button"
          class="inline-flex items-center gap-2 self-center rounded-[14px] border {{if .ShortlistMode}}border-[#f44335] bg-[#f44335] text-white shadow-[0_8px_18px_rgba(244,67,53,0.28)]{{else}}border-[#dcdcdc] bg-white text-[#3b3b3b] hover:border-[#f44335] hover:text-[#f44335]{{end}} px-4 py-3 transition-colors hidden"
          data-shortlist-toggle
          data-active="{{if .ShortlistMode}}true{{else}}false{{end}}"
          aria-pressed="{{if .ShortlistMode}}true{{else}}false{{end}}"
        >
          <svg class="w-5 h-5 {{if .ShortlistMode}}text-white{{else}}text-[#9f9f9f]{{end}}" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true">
            <path d="M12 21s-6.72-3.66-9.33-8.4C.05 9.35 1.34 5.7 4.4 4.26a4.9 4.9 0 0 1 5.6.93L12 6.96l1.99-1.77a4.9 4.9 0 0 1 5.6-.93c3.06 1.44 4.35 5.09 1.73 8.34C18.72 17.34 12 21 12 21Z" />
          </svg>
          <span class="text-[15px] font-medium" style="font-family: 'Poppins', sans-serif">
            {{if .ShortlistMode}}Back to all results{{else}}Show shortlisted{{end}}
          </span>
        </button>
        {{end}}
      </div>
      {{if .ShortlistEnabled}}
      <p class="text-[13px] text-[#777] text-center md:text-left" style="font-family: 'Poppins', sans-serif">
        Tap the heart on any property to shortlist it. Use the button to quickly filter to your saved picks.
      </p>
      {{end}}
    </div>

    <div class="bg-[#f2f2f2] rounded-[20px] shadow-[0px_4px_8px_rgba(0,0,0,0.16)] p-4 sm:p-6 lg:p-8 space-y-4">
      <!-- Property Cards List -->
      {{if and .List (gt (len .List.Items) 0)}}
        <div class="flex flex-col gap-4">
          {{- $root := . -}}
          {{range .List.Items}}
            {{template "partials/property-card.html" (dict "Prop" . "ShortlistEnabled" $root.ShortlistEnabled)}}
          {{end}}
        </div>
      {{else}}
        <!-- No Results -->
        <div class="bg-white rounded-[20px] shadow-[0px_5px_9.9px_0px_rgba(0,0,0,0.15)] p-10 text-center border border-[#e4e4e4]">
          <p class="text-[18px] md:text-[20px] text-[#414141] font-medium mb-2">
            {{if .ShortlistMode}}No shortlisted properties yet{{else}}No properties found{{end}}
          </p>
          <p class="text-[14px] md:text-[16px] text-[#797979]">
            {{if .ShortlistMode}}
              Tap the hearts on properties you love to see them here.
            {{else}}
              Try adjusting your filters or searching a different area.
            {{end}}
          </p>
        </div>
      {{end}}

      <!-- Pagination -->
      <div class="pt-2">
        {{template "partials/pagination.html" .}}
      </div>
    </div>
  </div>
</section>
{{end}}
