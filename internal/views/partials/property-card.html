{{define "partials/property-card.html"}}
<!-- Reusable Property Card Component (full-row clickable) -->
<a
  href="/properties/{{.ID}}"
  data-price="{{.Price}}"
  data-area="{{.Area}}"
  data-listing="{{.ListingType}}"
  data-type="{{.Type}}"
  class="group block bg-[#f9f9f9] rounded-[20px] shadow-[0px_5px_9.9px_rgba(0,0,0,0.15)] overflow-hidden hover:-translate-y-[1px] transition-transform duration-200"
>
  <div class="flex flex-col md:flex-row items-stretch">
    <!-- Property Image -->
    <div
      class="w-full h-[200px] md:w-[268px] md:h-[250px] relative flex-shrink-0"
    >
      {{if .Images}}
      <img
        src="{{index .Images 0}}"
        alt="{{.Title}}"
        class="absolute inset-0 w-full h-full object-cover"
        onerror="this.src='/assets/images/placeholders/property-placeholder.svg'"
      />
      {{else}}
      <img
        src="/assets/images/placeholders/property-placeholder.svg"
        alt="{{.Title}}"
        class="absolute inset-0 w-full h-full object-cover"
      />
      {{end}}
    </div>

    <!-- Property Details Section -->
    <div class="flex-1 flex flex-col gap-4 px-5 py-5 md:px-8 md:py-6">
      <!-- Amenities (top right) -->
      <div
        class="flex flex-wrap items-center gap-4 md:gap-6 bg-[#e4e4e4] rounded-l-[4px] px-2 py-1 self-end mr-[-1rem] md:mr-[-2rem]"
      >
        {{if .Bedrooms}}
        <div class="flex items-center gap-2">
          <img
            src="/assets/icons/bedroom.svg"
            alt="Bedrooms"
            class="w-[12px] h-[12px] md:w-[14px] md:h-[14px]"
          />
          <span
            class="text-[12px] md:text-[14px] font-medium text-[#797979]"
            style="font-family: 'Poppins', sans-serif"
            >{{.Bedrooms}}</span
          >
        </div>
        {{end}} {{if .Bathrooms}}
        <div class="flex items-center gap-2">
          <img
            src="/assets/icons/bathroom.svg"
            alt="Bathrooms"
            class="w-[14px] h-[14px] md:w-[16px] md:h-[16px]"
          />
          <span
            class="text-[12px] md:text-[14px] font-medium leading-[20px] text-[#797979]"
            style="font-family: 'Poppins', sans-serif"
            >{{.Bathrooms}}</span
          >
        </div>
        {{end}} {{if .Area}}
        <div class="flex items-center gap-2">
          <img
            src="/assets/icons/area.svg"
            alt="Area"
            class="w-[14px] h-[14px] md:w-[16px] md:h-[16px]"
          />
          <span
            class="text-[12px] md:text-[14px] font-medium leading-[20px] text-[#797979]"
            style="font-family: 'Poppins', sans-serif"
            >{{.Area}} ft</span
          >
        </div>
        {{end}} {{if .Parking}}
        <div class="flex items-center gap-2">
          <img
            src="/assets/icons/parking.svg"
            alt="Parking"
            class="w-[14px] h-[14px] md:w-[16px] md:h-[16px]"
          />
          <span
            class="text-[12px] md:text-[14px] font-medium leading-[20px] text-[#797979]"
            style="font-family: 'Poppins', sans-serif"
            >{{.Parking}}</span
          >
        </div>
        {{end}}
      </div>

      <!-- Badges -->
      <div class="flex flex-wrap gap-2 md:gap-3">
        {{range .Badges}} {{template "partials/property-badge.html" .}} {{end}}
      </div>

      <!-- Title and Address -->
      <div class="space-y-3">
        <h2
          class="text-[18px] md:text-[24px] font-normal leading-tight text-[#414141]"
          style="font-family: 'Poppins', sans-serif"
        >
          {{.Title}}
        </h2>
        <p
          class="text-[14px] md:text-[18px] font-normal leading-[24px] md:leading-[26.4px] text-[#7d7d7d]"
          style="font-family: 'Poppins', sans-serif"
        >
          {{.Address}}
        </p>
      </div>

      <!-- Price -->
      <div
        class="mt-auto text-[18px] md:text-[20px] lg:text-[24px] font-medium leading-[30px] md:leading-[34px] text-[#414141] md:self-end"
        style="font-family: 'Poppins', sans-serif"
      >
        {{.Currency}}{{formatPrice .Price}}
      </div>
    </div>
  </div>
</a>
{{end}}
